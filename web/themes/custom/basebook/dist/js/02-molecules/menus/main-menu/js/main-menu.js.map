{"version":3,"file":"dist/js/02-molecules/menus/main-menu/js/main-menu.js","mappings":";;;;AAAAA,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAG,CAC1BC,MAAMA,CAACC,CAAO,CAAE,CAUd,QAAS,CAAAC,CAAiBA,CAAA,CAAG,CAC3B,KAAM,CAAAC,CAAY,CAAGC,QAAQ,CAACC,gBAAgB,CAAC,sBAAsB,CAAC,CACtEF,CAAY,CAACG,OAAO,CAAEC,CAAO,EAAK,CAChCA,CAAO,CAACC,SAAS,CAACC,MAAM,CAAC,qBAAqB,CAAC,CAC/C,KAAM,CAAAC,CAAQ,CAAGH,CAAO,CAACI,sBAAsB,CAC/CD,CAAQ,CAACE,YAAY,CAAC,eAAe,CAAE,OAAO,CAChD,CAAC,CAAC,CAEF,KAAM,CAAAC,CAAa,CAAGT,QAAQ,CAACC,gBAAgB,CAC7C,oCACF,CAAC,CACDQ,CAAa,CAACP,OAAO,CAAEI,CAAQ,EAAK,CAClCA,CAAQ,CAACF,SAAS,CAACC,MAAM,CAAC,mCAAmC,CAAC,CAC9DC,CAAQ,CAACE,YAAY,CAAC,eAAe,CAAE,OAAO,CAChD,CAAC,CACH,CAEA,QAAS,CAAAE,CAAeA,CAACC,CAAC,CAAE,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,MACZ,CAAAN,CAAQ,CAAGK,CAAC,CAACE,aAAa,CAC1BV,CAAO,CAAGG,CAAQ,CAACQ,kBAAkB,CAGrCC,CAAe,CAAGC,KAAK,CAACC,IAAI,CAChCX,CAAQ,CAACY,aAAa,CAACA,aAAa,CAACjB,gBAAgB,CACnD,sBACF,CACF,CAAC,CAEDc,CAAe,CAACb,OAAO,CAAEiB,CAAW,EAAK,CACnCA,CAAW,GAAKhB,CAAO,GACzBgB,CAAW,CAACf,SAAS,CAACC,MAAM,CAAC,qBAAqB,CAAC,CACnDc,CAAW,CAACZ,sBAAsB,CAACC,YAAY,CAC7C,eAAe,CACf,OACF,CAAC,CACDW,CAAW,CAACX,YAAY,CAAC,aAAa,CAAE,MAAM,CAAC,CAEnD,CAAC,CAAC,CAEFF,CAAQ,CAACF,SAAS,CAACgB,MAAM,CAAC,mCAAmC,CAAC,CAC9DjB,CAAO,CAACC,SAAS,CAACgB,MAAM,CAAC,qBAAqB,CAAC,CAC/Cd,CAAQ,CAACE,YAAY,CACnB,eAAe,CAC4B,MAAM,GAAjDF,CAAQ,CAACe,YAAY,CAAC,eAAe,CAAY,CAAG,OAAO,CAAG,MAChE,CAAC,CACDlB,CAAO,CAACK,YAAY,CAClB,aAAa,CACbL,CAAO,CAACC,SAAS,CAACkB,QAAQ,CAAC,qBAAqB,CAAC,CAAG,OAAO,CAAG,MAChE,CACF,CAAC,KA3DK,CAAAC,CAAI,CAAGvB,QAAQ,CAACwB,aAAa,CAAC,MAAM,CAAC,CACrCC,CAAiB,CAAG5B,CAAO,CAAC2B,aAAa,CAAC,sBAAsB,CAAC,CACjEE,CAAgB,CAAG7B,CAAO,CAAC2B,aAAa,CAAC,sBAAsB,CAAC,CAChEG,CAAI,CAAG9B,CAAO,CAAC2B,aAAa,CAAC,WAAW,CAAC,CACzCI,CAAG,CAAG/B,CAAO,CAAC2B,aAAa,CAAC,gBAAgB,CAAC,CAC7CK,CAAY,CAAGC,gBAAgB,CACnC9B,QAAQ,CAAC+B,eACX,CAAC,CAACC,gBAAgB,CAAC,oBAAoB,CAAC,CAsDxC,GAAIL,CAAI,CAAE,MACF,CAAAM,CAAa,CAAGL,CAAG,CAACJ,aAAa,CAAC,kBAAkB,CAAC,CAErDU,CAAe,CAAGA,CAAA,GAAM,CACxBC,MAAM,CAACC,UAAU,CAAGP,CAAY,GAClCN,CAAI,CAACnB,SAAS,CAACC,MAAM,CAAC,gBAAgB,CAAC,CACvCuB,CAAG,CAACxB,SAAS,CAACC,MAAM,CAAC,qBAAqB,CAAC,CAC3CoB,CAAiB,CAACrB,SAAS,CAACC,MAAM,CAAC,qBAAqB,CAAC,CACzDsB,CAAI,CAACvB,SAAS,CAACC,MAAM,CAAC,gBAAgB,CAAC,CAE3C,CAAC,CAGD4B,CAAa,CAACI,gBAAgB,CAAC,OAAO,CAAG1B,CAAC,EAAK,CAC7CA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBsB,CAAe,CAAC,CAClB,CAAC,CAAC,CAGFR,CAAgB,CAACW,gBAAgB,CAAC,OAAO,CAAG1B,CAAC,EAAK,CAChDA,CAAC,CAACC,cAAc,CAAC,CAAC,CACduB,MAAM,CAACC,UAAU,CAAGP,CAAY,GAClCN,CAAI,CAACnB,SAAS,CAACkC,GAAG,CAAC,gBAAgB,CAAC,CACpCV,CAAG,CAACxB,SAAS,CAACkC,GAAG,CAAC,qBAAqB,CAAC,CACxCb,CAAiB,CAACrB,SAAS,CAACkC,GAAG,CAAC,qBAAqB,CAAC,CACtDX,CAAI,CAACvB,SAAS,CAACkC,GAAG,CAAC,gBAAgB,CAAC,CAExC,CAAC,CAAC,CAEFb,CAAiB,CAACY,gBAAgB,CAAC,OAAO,CAAG1B,CAAC,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBsB,CAAe,CAAC,CAClB,CAAC,CAAC,CAEF,KAAM,CAAAK,CAAU,CAAGZ,CAAI,CAAC1B,gBAAgB,CACtC,uDACF,CAAC,CAEDe,KAAK,CAACC,IAAI,CAACsB,CAAU,CAAC,CAACrC,OAAO,CAAEsC,CAAI,EAAK,CACvC,KAAM,CAAAC,CAAO,CAAGD,CAAI,CAACE,SAAS,GAAK,CAAC,CACpCF,CAAI,CAACG,UAAU,CAACC,YAAY,CAACH,CAAO,CAAED,CAAI,CAAC,CAC3CC,CAAO,CAACJ,gBAAgB,CAAC,OAAO,CAAE3B,CAAe,CAAC,CAGlD+B,CAAO,CAACJ,gBAAgB,CAAC,SAAS,CAAG1B,CAAC,EAAK,MACnC,CAAAL,CAAQ,CAAGK,CAAC,CAACE,aAAa,CAC1BV,CAAO,CAAGG,CAAQ,CAACQ,kBAAkB,CAG3C,GAAc,OAAO,GAAjBH,CAAC,CAACkC,GAAe,EAAc,GAAG,GAAblC,CAAC,CAACkC,GAAW,CAGpC,MAFA,CAAAlC,CAAC,CAACC,cAAc,CAAC,CAAC,KAClB,CAAAF,CAAe,CAACC,CAAC,CAAC,CAKpB,GAAc,WAAW,GAArBA,CAAC,CAACkC,GAAmB,CAAE,CACzBlC,CAAC,CAACC,cAAc,CAAC,CAAC,CAGbT,CAAO,CAACC,SAAS,CAACkB,QAAQ,CAAC,qBAAqB,CAAC,GACpDhB,CAAQ,CAACF,SAAS,CAACkC,GAAG,CAAC,mCAAmC,CAAC,CAC3DnC,CAAO,CAACC,SAAS,CAACkC,GAAG,CAAC,qBAAqB,CAAC,EAI9C,KAAM,CAAAQ,CAAQ,CAAGxC,CAAQ,CAACY,aAAa,CAACJ,kBAAkB,CAC1D,GAAIgC,CAAQ,CAAE,CACZ,KAAM,CAAAC,CAAiB,CAAGD,CAAQ,CAACtB,aAAa,CAC9C,0BACF,CAAC,CACGuB,CAAiB,EACnBA,CAAiB,CAACC,KAAK,CAAC,CAE5B,CACF,CAEA,GAAc,SAAS,GAAnBrC,CAAC,CAACkC,GAAiB,CAAE,CACvBlC,CAAC,CAACC,cAAc,CAAC,CAAC,CAGbT,CAAO,CAACC,SAAS,CAACkB,QAAQ,CAAC,qBAAqB,CAAC,GACpDhB,CAAQ,CAACF,SAAS,CAACkC,GAAG,CAAC,mCAAmC,CAAC,CAC3DnC,CAAO,CAACC,SAAS,CAACkC,GAAG,CAAC,qBAAqB,CAAC,EAI9C,KAAM,CAAAW,CAAQ,CAAG3C,CAAQ,CAACY,aAAa,CAACX,sBAAsB,CAC9D,GAAI0C,CAAQ,CAAE,CACZ,KAAM,CAAAC,CAAiB,CAAGD,CAAQ,CAACzB,aAAa,CAC9C,0BACF,CAAC,CACG0B,CAAiB,EACnBA,CAAiB,CAACF,KAAK,CAAC,CAE5B,CACF,CACF,CAAC,CACH,CAAC,CAAC,CAEFhD,QAAQ,CAACqC,gBAAgB,CAAC,OAAO,CAAG1B,CAAC,EAAK,CACnCgB,CAAI,CAACL,QAAQ,CAACX,CAAC,CAACwC,MAAM,CAAC,EAAKzB,CAAgB,CAACJ,QAAQ,CAACX,CAAC,CAACwC,MAAM,CAAC,EAClErD,CAAiB,CAAC,CAEtB,CAAC,CACH,CACF,CACF,CAAC,C","sources":["webpack://basebook/./components/02-molecules/menus/main-menu/main-menu.js"],"sourcesContent":["Drupal.behaviors.mainMenu = {\n  attach(context) {\n    const body = document.querySelector('body');\n    const toggleExpandClose = context.querySelector('#toggle-expand-close');\n    const toggleExpandOpen = context.querySelector('#toggle-expand-fixed');\n    const menu = context.querySelector('#main-nav');\n    const nav = context.querySelector('.main-menu-nav');\n    const breakpointLg = getComputedStyle(\n      document.documentElement,\n    ).getPropertyValue('--breakpoint-large');\n\n    function closeAllOpenMenus() {\n      const openSubMenus = document.querySelectorAll('.main-menu--sub-open');\n      openSubMenus.forEach((subMenu) => {\n        subMenu.classList.remove('main-menu--sub-open');\n        const menuItem = subMenu.previousElementSibling;\n        menuItem.setAttribute('aria-expanded', 'false');\n      });\n\n      const openMenuItems = document.querySelectorAll(\n        '.main-menu__item-content--sub-open',\n      );\n      openMenuItems.forEach((menuItem) => {\n        menuItem.classList.remove('main-menu__item-content--sub-open');\n        menuItem.setAttribute('aria-expanded', 'false');\n      });\n    }\n\n    function handleMenuClick(e) {\n      e.preventDefault();\n      const menuItem = e.currentTarget;\n      const subMenu = menuItem.nextElementSibling;\n\n      // Cerrar otros submenús abiertos\n      const siblingSubMenus = Array.from(\n        menuItem.parentElement.parentElement.querySelectorAll(\n          '.main-menu--sub-open',\n        ),\n      );\n\n      siblingSubMenus.forEach((openSubMenu) => {\n        if (openSubMenu !== subMenu) {\n          openSubMenu.classList.remove('main-menu--sub-open');\n          openSubMenu.previousElementSibling.setAttribute(\n            'aria-expanded',\n            'false',\n          );\n          openSubMenu.setAttribute('aria-hidden', 'true');\n        }\n      });\n\n      menuItem.classList.toggle('main-menu__item-content--sub-open');\n      subMenu.classList.toggle('main-menu--sub-open');\n      menuItem.setAttribute(\n        'aria-expanded',\n        menuItem.getAttribute('aria-expanded') === 'true' ? 'false' : 'true',\n      );\n      subMenu.setAttribute(\n        'aria-hidden',\n        subMenu.classList.contains('main-menu--sub-open') ? 'false' : 'true',\n      );\n    }\n\n    if (menu) {\n      const mainMenuLayer = nav.querySelector('.main-menu-layer');\n\n      const closeMenuMobile = () => {\n        if (window.innerWidth < breakpointLg) {\n          body.classList.remove('main-menu-open');\n          nav.classList.remove('main-menu-nav--open');\n          toggleExpandClose.classList.remove('toggle-expand--open');\n          menu.classList.remove('main-nav--open');\n        }\n      };\n\n      // Cerrar el menú en la capa\n      mainMenuLayer.addEventListener('click', (e) => {\n        e.preventDefault();\n        closeMenuMobile();\n      });\n\n      // Mostrar/Ocultar el menú en móvil\n      toggleExpandOpen.addEventListener('click', (e) => {\n        e.preventDefault();\n        if (window.innerWidth < breakpointLg) {\n          body.classList.add('main-menu-open');\n          nav.classList.add('main-menu-nav--open');\n          toggleExpandClose.classList.add('toggle-expand--open');\n          menu.classList.add('main-nav--open');\n        }\n      });\n\n      toggleExpandClose.addEventListener('click', (e) => {\n        e.preventDefault();\n        closeMenuMobile();\n      });\n\n      const expandMenu = menu.querySelectorAll(\n        '.main-menu__item--with-sub > .main-menu__item-content',\n      );\n\n      Array.from(expandMenu).forEach((item) => {\n        const newItem = item.cloneNode(true);\n        item.parentNode.replaceChild(newItem, item);\n        newItem.addEventListener('click', handleMenuClick);\n\n        // Manejo de teclas de navegación (Enter, Space, ArrowDown, ArrowUp)\n        newItem.addEventListener('keydown', (e) => {\n          const menuItem = e.currentTarget;\n          const subMenu = menuItem.nextElementSibling;\n\n          // Acciones para Enter o Space\n          if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            handleMenuClick(e); // Ejecutar el mismo comportamiento que un clic\n            return;\n          }\n\n          // Acciones para las teclas de flecha\n          if (e.key === 'ArrowDown') {\n            e.preventDefault();\n\n            // Si el submenú está cerrado, abrirlo\n            if (!subMenu.classList.contains('main-menu--sub-open')) {\n              menuItem.classList.add('main-menu__item-content--sub-open');\n              subMenu.classList.add('main-menu--sub-open');\n            }\n\n            // Mover el foco al siguiente ítem\n            const nextItem = menuItem.parentElement.nextElementSibling;\n            if (nextItem) {\n              const nextFocusableItem = nextItem.querySelector(\n                '.main-menu__item-content',\n              );\n              if (nextFocusableItem) {\n                nextFocusableItem.focus();\n              }\n            }\n          }\n\n          if (e.key === 'ArrowUp') {\n            e.preventDefault();\n\n            // Si el submenú está cerrado, abrirlo\n            if (!subMenu.classList.contains('main-menu--sub-open')) {\n              menuItem.classList.add('main-menu__item-content--sub-open');\n              subMenu.classList.add('main-menu--sub-open');\n            }\n\n            // Mover el foco al ítem anterior\n            const prevItem = menuItem.parentElement.previousElementSibling;\n            if (prevItem) {\n              const prevFocusableItem = prevItem.querySelector(\n                '.main-menu__item-content',\n              );\n              if (prevFocusableItem) {\n                prevFocusableItem.focus();\n              }\n            }\n          }\n        });\n      });\n\n      document.addEventListener('click', (e) => {\n        if (!menu.contains(e.target) && !toggleExpandOpen.contains(e.target)) {\n          closeAllOpenMenus();\n        }\n      });\n    }\n  },\n};\n"],"names":["Drupal","behaviors","mainMenu","attach","context","closeAllOpenMenus","openSubMenus","document","querySelectorAll","forEach","subMenu","classList","remove","menuItem","previousElementSibling","setAttribute","openMenuItems","handleMenuClick","e","preventDefault","currentTarget","nextElementSibling","siblingSubMenus","Array","from","parentElement","openSubMenu","toggle","getAttribute","contains","body","querySelector","toggleExpandClose","toggleExpandOpen","menu","nav","breakpointLg","getComputedStyle","documentElement","getPropertyValue","mainMenuLayer","closeMenuMobile","window","innerWidth","addEventListener","add","expandMenu","item","newItem","cloneNode","parentNode","replaceChild","key","nextItem","nextFocusableItem","focus","prevItem","prevFocusableItem","target"],"sourceRoot":""}